webpackJsonp([28],{Jq8f:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});s("CKVb");var o=s("JGLT"),a=s("Jp5S"),i=s("mqrw"),n=s("Kipv"),r=s("LYZK"),d=s("F0KF"),l=s("aPD3"),c=(d.a,l.a,o.a,i.a,a.a,{components:{loadMore:d.a,LoadMore:l.a,Confirm:o.a,Alert:i.a},directives:{TransferDom:a.a},created:function(){var t=this;this.getrecruiment(),Object(r.m)().then(function(e){0==e.data.result&&(t.status=e.data.datas.status)})},data:function(){return{messageShow:!1,resMessage:"",showConfirm:!1,showColse:!1,historylists:[],orderId:"",total:0,loading:!1,allLoaded:!1,bottomText:"",endtext:"",nowId:"",status:""}},methods:{loadBottom:function(){if(this.endtext||(this.loading=!0),this.orderId=this.historylists[this.historylists.length-1].orderId,0==this.orderId)return this.loading=!1,void(this.allLoaded=!0);this.getrecruiment()},handleBottomChange:function(t){this.bottomText=t},getrecruiment:function(){var t=this,e={pagesize:10,pageLastId:this.orderId};Object(n.e)(e).then(function(e){if(0==e.data.result){var s=e.data.datas.list;0==s.length&&(t.endtext="再也没有了..."),t.total=e.data.datas.total,""==t.orderId?s.forEach(function(e){t.historylists.push(e)}):0!=t.orderId&&setTimeout(function(){t.loading=!1,s.forEach(function(e){t.historylists.push(e)})},600)}})},confirm:function(t){this.nowId=t,this.showConfirm=!0},close:function(t){this.nowId=t,this.showColse=!0},closeobj:function(){},deleteobj:function(){var t=this,e={id:this.nowId};Object(n.c)(e).then(function(e){0==e.data.result&&(t.orderId="",t.historylists=[],t.getrecruiment())})},toedit:function(t){this.$router.push({name:"editIntent",params:{objitem:t}})},newobjective:function(){2==this.status?this.$router.push("/editIntent"):(this.messageShow=!0,this.resMessage="您的简历尚未发布")}}}),h={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"objective_wrap"},[o("header",{staticClass:"header_top"},[o("img",{staticClass:"back",attrs:{src:s("P9/e"),width:"25",height:"22"},on:{click:function(e){t.$router.go(-1)}}}),t._v(" "),o("span",{staticClass:"title"},[t._v("求职意向")])]),t._v(" "),o("load-more",{ref:"loadmore",attrs:{"bottom-method":t.loadBottom,"bottom-all-loaded":t.allLoaded,bottomPullText:t.bottomText,"auto-fill":!1},on:{"bottom-status-change":t.handleBottomChange}},[o("ul",t._l(t.historylists,function(e,s){return o("li",{key:s,staticClass:"ow_list",on:{click:function(s){t.toedit(e)}}},[o("div",{staticClass:"ob_row"},[o("span",[t._v(t._s(e.provinceName)+t._s(e.cityName))]),t._v(" "),o("span",{staticClass:"item_post",staticStyle:{overflow:"hidden"}},[t._v(t._s(e.post))]),t._v(" "),o("span",{staticClass:"delete",on:{click:function(s){s.stopPropagation(),t.confirm(e.id)}}},[t._v("删除")])]),t._v(" "),o("div",{staticClass:"ob_row"},[o("span",{directives:[{name:"show",rawName:"v-show",value:e.expectedSalaryStart,expression:"item.expectedSalaryStart"}]},[t._v(t._s(e.expectedSalaryStart)+"k~"+t._s(e.expectedSalaryEnd)+"k")]),t._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:!e.expectedSalaryStart,expression:"!item.expectedSalaryStart"}]},[t._v("面议")]),t._v(" "),o("span",[t._v(t._s(e.jobCategoryName))])])])})),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"loading",attrs:{slot:"bottom"},slot:"bottom"},[o("LoadMore",{attrs:{slot:"bottom","show-loading":t.loading},slot:"bottom"})],1),t._v(" "),o("p",{directives:[{name:"show",rawName:"v-show",value:t.endtext,expression:"endtext"}],staticClass:"endtext"},[t._v(t._s(t.endtext))]),t._v(" "),o("div",{staticClass:"ow_footer",on:{click:t.newobjective}},[o("span",[t._v("新建意向")])])]),t._v(" "),o("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[o("confirm",{on:{"on-cancel":function(e){t.showConfirm=!0},"on-confirm":t.deleteobj},model:{value:t.showConfirm,callback:function(e){t.showConfirm=e},expression:"showConfirm"}},[o("p",{staticStyle:{"text-align":"center"}},[t._v("确定删除此意向吗？")])])],1),t._v(" "),o("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[o("alert",{attrs:{title:"提示"},model:{value:t.messageShow,callback:function(e){t.messageShow=e},expression:"messageShow"}},[t._v("\n              "+t._s(t.resMessage)+"\n        ")])],1)],1)},staticRenderFns:[]};var m=s("C7Lr")(c,h,!1,function(t){s("M050")},null,null);e.default=m.exports},M050:function(t,e){}});
//# sourceMappingURL=28.951cb4cd3b41f315e5cf.js.map