webpackJsonp([25],{Tyzj:function(t,e){},cXgN:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("F0KF"),o=i("aPD3"),a=i("JGLT"),n=i("Kipv"),r=(s.a,o.a,a.a,{components:{loadMore:s.a,LoadMore:o.a,Confirm:a.a},created:function(){this.getrecruiment()},data:function(){return{historylists:[],recruitmentId:"",total:0,loading:!1,allLoaded:!1,bottomText:"",endtext:"",showdialog:!1,id:""}},methods:{confirm:function(t){this.showdialog=!0,this.id=t},loadBottom:function(){if(this.endtext||(this.loading=!0),this.recruitmentId=this.historylists[this.historylists.length-1].id,0==this.recruitmentId)return this.loading=!1,void(this.allLoaded=!0);this.getrecruiment()},handleBottomChange:function(t){this.bottomText=t},getrecruiment:function(){var t=this,e={pagesize:"10",pageLastId:this.recruitmentId};Object(n.a)(e).then(function(e){if(0==e.data.result){var i=e.data.datas.list;0==i.length&&(t.endtext="再也没有了..."),t.total=e.data.datas.total,""==t.recruitmentId?i.forEach(function(e){t.historylists.push(e)}):0!=t.recruitmentId&&setTimeout(function(){t.loading=!1,i.forEach(function(e){t.historylists.push(e)})},600)}})},delcollect:function(){var t=this,e={id:this.id};Object(n.d)(e).then(function(e){0==e.data.result&&(t.recruitmentId="",t.historylists=[],t.getrecruiment())})}}}),l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mycollect_wrap"},[s("header",{staticClass:"header_top"},[s("img",{staticClass:"back",attrs:{src:i("oR80"),width:"25",height:"22"},on:{click:function(e){e.stopPropagation(),t.$router.push("/home/ucenter")}}}),t._v(" "),s("span",{staticClass:"title"},[t._v("我的收藏")])]),t._v(" "),s("load-more",{ref:"loadmore",attrs:{"bottom-method":t.loadBottom,"bottom-all-loaded":t.allLoaded,bottomPullText:t.bottomText,"auto-fill":!1},on:{"bottom-status-change":t.handleBottomChange}},[s("ul",{staticClass:"nw_ul"},t._l(t.historylists,function(e,i){return s("li",{key:i,staticClass:"nw_lists",on:{click:function(i){t.$router.push({name:"postDetail",query:{id:e.recruitmentId}})}}},[s("div",{staticClass:"nwl_header"},[s("img",{attrs:{src:e.recruiment.company.headimgurl,width:"36",height:"36"}}),t._v(" "),e.recruiment?s("div",{staticClass:"name"},[s("p",[t._v(t._s(e.recruiment.company.name))]),t._v(" "),s("p",[t._v(t._s(e.recruiment.startTime))])]):t._e()]),t._v(" "),e.recruiment?s("div",{staticClass:"nwl_content"},[s("p",{staticClass:"title"},[t._v(t._s(e.recruiment.post))]),t._v(" "),s("p",{staticClass:"intro"},[t._v(t._s(e.recruiment.description))])]):t._e(),t._v(" "),e.recruiment?s("div",{staticClass:"nwl_mark"},[s("span",{staticClass:"fulltime"},[t._v(t._s(0==e.recruiment.workingType?"不限":1==e.recruiment.workingType?"全职":"兼职"))]),t._v(" "),s("span",{staticClass:"require"},[t._v(t._s(e.recruiment.certMajorL1))]),t._v(" "),s("span",{staticClass:"place"},[t._v(t._s(e.recruiment.provinceName)+t._s(e.recruiment.cityName))])]):t._e(),t._v(" "),s("span",{staticClass:"delcollect",on:{click:function(i){i.stopPropagation(),t.confirm(e.id)}}},[t._v("删除")])])})),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"loading",attrs:{slot:"bottom"},slot:"bottom"},[s("LoadMore",{attrs:{slot:"bottom","show-loading":t.loading},slot:"bottom"})],1),t._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:t.endtext,expression:"endtext"}],staticClass:"endtext"},[t._v(t._s(t.endtext))])]),t._v(" "),s("Confirm",{attrs:{title:"确定删除吗"},on:{"on-confirm":function(e){t.delcollect()}},model:{value:t.showdialog,callback:function(e){t.showdialog=e},expression:"showdialog"}})],1)},staticRenderFns:[]};var c=i("C7Lr")(r,l,!1,function(t){i("Tyzj")},null,null);e.default=c.exports}});
//# sourceMappingURL=25.b347c6ea06d4a8511fd0.js.map