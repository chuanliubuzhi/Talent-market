webpackJsonp([30],{LtQC:function(t,o){},hEEA:function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i=e("dVGF"),s=e("5sde"),a=e("f4gh"),n=e("fvyU"),c=e("vxcK"),m=e("G022"),r=e.n(m),l=e("RAwi"),f=(e("EFIY"),e("sm8H"),e("CKVb")),h=(e("mqrw"),e("z0xl")),u=(i.a,s.a,f.a,n.a,l.a,c.a,a.a,{components:{VSite:i.a,myuploadimg:s.a,Group:f.a,XInput:n.a,XTextarea:l.a,XAddress:c.a,Toast:a.a},created:function(){this.getCompany()},data:function(){return{showtoast:!1,toastmes:"",sitevalue:[],addressData:r.a,comInfo:{headimgurl:"",licensePic:""}}},methods:{getCompany:function(){var t=this;Object(h.h)().then(function(o){0==o.data.result?(t.comInfo=o.data.datas,t.$refs.upload.imgsrc=t.comInfo.licensePic,t.$refs.upload_two.imgsrc=t.comInfo.headimgurl,t.$set(t.sitevalue,0,t.comInfo.province),t.$set(t.sitevalue,1,t.comInfo.city),t.$set(t.sitevalue,2,t.comInfo.country)):t.showprovince=!0})},sitechange:function(t,o){var e={province:{code:t[0],value:o[0]},city:{code:t[1],value:o[1]},area:{code:t[2],value:o[2]}};this.comInfo.province=e.province.code,this.comInfo.provinceName=e.province.value,this.comInfo.city=e.city.code,this.comInfo.cityName=e.city.value,this.comInfo.country=e.area.code,this.comInfo.countryName=e.area.value},getinput:function(t){this.comInfo.tel=t},submit:function(){var t=this;if(""==this.comInfo.name)return this.showtoast=!0,this.toastmes="请输入公司名",!1;if(""==this.comInfo.address)return this.showtoast=!0,this.toastmes="请输入详细地址",!1;if(""==this.comInfo.contactName)return this.showtoast=!0,this.toastmes="请输入联系人姓名",!1;if(""==this.comInfo.licenseNum)return this.showtoast=!0,this.toastmes="请输入营业执照号码",!1;if(""==this.comInfo.tel)return this.showtoast=!0,this.toastmes="请输入联系电话",!1;if(!/^1[0-9]{10}$/.test(this.comInfo.tel))return this.showtoast=!0,void(this.toastmes="联系电话格式不正确");if(""==this.comInfo.email)return this.showtoast=!0,this.toastmes="请输入联系邮箱",!1;if(""==this.comInfo.qualification)return this.showtoast=!0,this.toastmes="请输入资质",!1;if(""==this.comInfo.province)return this.showtoast=!0,this.toastmes="请选择地址",!1;if(""==this.comInfo.description)return this.showtoast=!0,this.toastmes="请填写公司介绍",!1;var o={headimgurl:this.comInfo.headimgurl,address:this.comInfo.address,province:this.comInfo.province,provinceName:this.comInfo.provinceName,city:this.comInfo.city,cityName:this.comInfo.cityName,country:this.comInfo.country,countryName:this.comInfo.countryName,contactName:this.comInfo.contactName,licensePic:this.comInfo.licensePic,name:this.comInfo.name,tel:this.comInfo.tel,licenseNum:this.comInfo.licenseNum,email:this.comInfo.email,qualification:this.comInfo.qualification,description:this.comInfo.description};Object(h.c)(o).then(function(o){0==o.data.result&&t.$router.push("/home/enterprise")})},updatecompany:function(){var t=this;if(""==this.comInfo.name)return this.showtoast=!0,this.toastmes="请输入公司名",!1;if(""==this.comInfo.address)return this.showtoast=!0,this.toastmes="请输入详细地址",!1;if(""==this.comInfo.contactName)return this.showtoast=!0,this.toastmes="请输入联系人姓名",!1;if(""==this.comInfo.licenseNum)return this.showtoast=!0,this.toastmes="请输入营业执照号码",!1;if(""==this.comInfo.tel)return this.showtoast=!0,this.toastmes="请输入联系电话",!1;if(!/^1[0-9]{10}$/.test(this.comInfo.tel))return this.showtoast=!0,void(this.toastmes="联系电话格式不正确");if(""==this.comInfo.email)return this.showtoast=!0,this.toastmes="请输入联系邮箱",!1;if(""==this.comInfo.qualification)return this.showtoast=!0,this.toastmes="请输入资质",!1;if(""==this.comInfo.province)return this.showtoast=!0,this.toastmes="请选择地址",!1;if(""==this.comInfo.description)return this.showtoast=!0,this.toastmes="请填写公司介绍",!1;var o={id:this.comInfo.companyId,headimgurl:this.comInfo.headimgurl,address:this.comInfo.address,province:this.comInfo.province,provinceName:this.comInfo.provinceName,city:this.comInfo.city,cityName:this.comInfo.cityName,country:this.comInfo.country,countryName:this.comInfo.countryName,contactName:this.comInfo.contactName,licensePic:this.comInfo.licensePic,name:this.comInfo.name,tel:this.comInfo.tel,licenseNum:this.comInfo.licenseNum,email:this.comInfo.email,qualification:this.comInfo.qualification,description:this.comInfo.description};Object(h.n)(o).then(function(o){0==o.data.result&&t.$router.go(-1)})},outimgavatar:function(t){this.comInfo.headimgurl=t},outimglisence:function(t){this.comInfo.licensePic=t}}}),d={render:function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("div",{staticClass:"enterpriseInfo_wrap ew_wrap"},[i("header",{staticClass:"header_top"},[i("img",{staticClass:"back",attrs:{src:e("P9/e"),width:"25",height:"22"},on:{click:function(o){t.$router.go(-1)}}}),t._v(" "),i("span",{staticClass:"title"},[t._v("企业信息")])]),t._v(" "),i("div",[i("div",{staticClass:"ew-item ew_name"},[i("p",{staticClass:"main_title"},[t._v("公司名称")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.comInfo.name,expression:"comInfo.name",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"输入名称"},domProps:{value:t.comInfo.name},on:{input:function(o){o.target.composing||t.$set(t.comInfo,"name",o.target.value.trim())},blur:function(o){t.$forceUpdate()}}})]),t._v(" "),i("div",{staticClass:"ew-item"},[i("p",{staticClass:"main_title",staticStyle:{"margin-bottom":"20px"}},[t._v("公司头像")]),t._v(" "),i("myuploadimg",{ref:"upload_two",staticStyle:{display:"inline-block","padding-left":"15px"},on:{outimg:t.outimgavatar}})],1),t._v(" "),i("div",{staticClass:"ew-item ew_qualification"},[i("p",{staticClass:"main_title",staticStyle:{"margin-bottom":"0"}},[t._v("公司资质")]),t._v(" "),i("group",[i("x-textarea",{staticClass:"weui-textarea",attrs:{rows:4,placeholder:"请输入企业资质"},model:{value:t.comInfo.qualification,callback:function(o){t.$set(t.comInfo,"qualification","string"==typeof o?o.trim():o)},expression:"comInfo.qualification"}})],1)],1),t._v(" "),i("div",{staticClass:"ew-item ew_place"},[i("p",{staticClass:"main_title"},[t._v("公司地址")]),t._v(" "),i("group",[i("x-address",{attrs:{title:"请选择地址",list:t.addressData},on:{"on-shadow-change":t.sitechange},model:{value:t.sitevalue,callback:function(o){t.sitevalue=o},expression:"sitevalue"}})],1),t._v(" "),i("group",{staticStyle:{"border-top":"1px solid #eee"}},[i("x-input",{attrs:{title:"详细地址",placeholder:"请填写详细地址"},model:{value:t.comInfo.address,callback:function(o){t.$set(t.comInfo,"address","string"==typeof o?o.trim():o)},expression:"comInfo.address"}})],1)],1),t._v(" "),i("div",{staticClass:"ew-item ew_contact"},[i("p",{staticClass:"main_title"},[t._v("联系信息")]),t._v(" "),i("group",[i("x-input",{attrs:{title:"姓名：",placeholder:"请输入姓名"},model:{value:t.comInfo.contactName,callback:function(o){t.$set(t.comInfo,"contactName",o)},expression:"comInfo.contactName"}})],1),t._v(" "),i("group",[i("x-input",{attrs:{mask:"999 9999 9999",name:"mobile",keyboard:"number","is-type":"china-mobile",title:"电话：",placeholder:"请输入手机号"},on:{"on-change":t.getinput},model:{value:t.comInfo.tel,callback:function(o){t.$set(t.comInfo,"tel",o)},expression:"comInfo.tel"}})],1),t._v(" "),i("group",[i("x-input",{attrs:{title:"邮箱：",name:"email","is-type":"email",placeholder:"请输入邮箱"},model:{value:t.comInfo.email,callback:function(o){t.$set(t.comInfo,"email",o)},expression:"comInfo.email"}})],1)],1),t._v(" "),i("div",{staticClass:"ew-item ew_license"},[i("p",{staticClass:"main_title",staticStyle:{"margin-bottom":"20px"}},[t._v("营业执照")]),t._v(" "),i("myuploadimg",{ref:"upload",staticStyle:{display:"inline-block"},on:{outimg:t.outimglisence}}),t._v(" "),i("group",[i("x-input",{attrs:{title:"营业执照号：",placeholder:"请输入营业执照号"},model:{value:t.comInfo.licenseNum,callback:function(o){t.$set(t.comInfo,"licenseNum","string"==typeof o?o.trim():o)},expression:"comInfo.licenseNum"}})],1)],1),t._v(" "),i("div",{staticClass:"ew-item ew_intro"},[i("p",{staticClass:"main_title",staticStyle:{"margin-bottom":"0"}},[t._v("企业介绍")]),t._v(" "),i("group",[i("x-textarea",{staticClass:"weui-textarea",attrs:{rows:4,placeholder:"请输入企业简介"},model:{value:t.comInfo.description,callback:function(o){t.$set(t.comInfo,"description","string"==typeof o?o.trim():o)},expression:"comInfo.description"}})],1)],1),t._v(" "),i("div",{staticClass:"ew_footer"},[t.comInfo.companyId?i("span",{on:{click:t.updatecompany}},[t._v("修改")]):t._e(),t._v(" "),t.comInfo.companyId?t._e():i("span",{on:{click:t.submit}},[t._v("提交")])]),t._v(" "),i("toast",{attrs:{type:"text",width:"20em"},model:{value:t.showtoast,callback:function(o){t.showtoast=o},expression:"showtoast"}},[t._v(t._s(t.toastmes))])],1)])},staticRenderFns:[]};var p=e("C7Lr")(u,d,!1,function(t){e("LtQC")},null,null);o.default=p.exports}});
//# sourceMappingURL=30.ede4b696e560f0440b0e.js.map