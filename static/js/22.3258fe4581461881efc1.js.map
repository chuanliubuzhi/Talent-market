{"version":3,"sources":["webpack:///./src/views/ucenter/setup.vue","webpack:///./src/views/ucenter/setup.vue?9af1","webpack:///./src/views/ucenter/setup.vue?86e6"],"names":["ucenter_setup","Toast","components","data","showtoast","toastmes","name","textValue","remnant","imgsrc","mediaId","created","_this2","this","myinfo","then","res","result","userInfo","datas","nickName","headimgurl","url","window","location","href","split","getConfig","wx","config","debug","appId","timestamp","signature","nonceStr","jsApiList","methods","getready","_this","ready","getImg","error","console","log","chooseImage","count","sizeType","sourceType","success","localIds","toString","uploadImg","val","uploadImage","localId","isShowProgressTips","serverId","fdata","SERVER_ID","weixinuploadimg","fail","picPath","alert","Json","stringify","descInput","txtVal","length","update","_this3","updateucenter","$router","go","views_ucenter_setup","render","_vm","_h","$createElement","_c","_self","staticClass","_v","attrs","src","on","click","directives","rawName","value","expression","modifiers","trim","type","domProps","input","$event","target","composing","blur","$forceUpdate","width","model","callback","$$v","_s","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/22.3258fe4581461881efc1.js","sourcesContent":["\nimport {updateucenter,myinfo,getConfig,uploadimg,weixinuploadimg} from '@/api/ucenter.js'\nimport Toast from 'vux/src/components/toast/index.vue'\n\n\nexport default {\ncomponents: {\nToast\n},\ndata () {\nreturn {\nshowtoast: false,\ntoastmes:　'',\nname: '',\ntextValue: '',\nremnant: 0,\nimgsrc: '',\nmediaId: ''\n}\n},\ncreated () {\n\nmyinfo().then( res => {\nif( res.data.result == 0 ) {\nthis.userInfo = res.data.datas\nthis.name = this.userInfo.nickName\nthis.imgsrc = this.userInfo.headimgurl\n}\n\n})\n\nlet href = window.location.href.split(\"#\")\nlet url = href[0]\nlet data = {\nurl: url\n};\n\ngetConfig(data).then(res => {\nwx.config({\ndebug: false,\nappId: res.data.appId,\ntimestamp: res.data.timestamp,\nsignature: res.data.signature,\nnonceStr: res.data.nonceStr,\njsApiList: [\n'checkJsApi',\n'getLocation',\n'chooseImage',\n'uploadImage',\n'downloadImage'\n]\n});\n});\n\n\n\n\n\n},\nmethods: {\ngetready () {\nlet _this = this\nwx.ready(function(){\n_this.getImg()\n});\nwx.error(function(res){\nconsole.log(res)\n});\n},\ngetImg(){\nlet _this = this\nwx.chooseImage({\ncount: 1,\nsizeType: ['original', 'compressed'],\nsourceType: ['album', 'camera'],\nsuccess: function (res) {\nvar localIds = res.localIds[0].toString()\n_this.uploadImg(localIds)\n}\n});\n},\nuploadImg(val) {\nlet _this = this\nwx.uploadImage({\nlocalId: val,\nisShowProgressTips: 1,\nsuccess: function (res) {\n_this.mediaId = res.serverId;\n\nlet fdata = {\nSERVER_ID:  _this.mediaId\n}\nweixinuploadimg(fdata).then(res => {\nif (res.data.result == 0) {\n\n_this.imgsrc = res.data.datas.headimgurl\n\n\n}\n})\n\n\n},\nfail: function (error) {\npicPath = '';\nlocalIds = '';\nalert(Json.stringify(error));\n\n}\n\n});\n},\ndescInput(){\nvar txtVal = this.textValue.length;\nthis.remnant = txtVal;\n},\nupdate () {\nif (this.name == '') {\nthis.showtoast = true\nthis.toastmes = '请输入姓名'\nreturn false\n}\n\nlet fdata = {\n\"nickName\": this.name,\n\"headimgurl\": this.imgsrc\n}\nupdateucenter(fdata).then(res => {\nif (res.data.result == 0) {\nthis.$router.go(-1)\n}\n})\n}\n}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/ucenter/setup.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"setup_wrap\"},[_c('div',{staticClass:\"sw_item\"},[_c('span',{staticClass:\"item_left\"},[_vm._v(\"头像\")]),_vm._v(\" \"),_c('span',{staticClass:\"item_right\"},[_c('img',{attrs:{\"src\":_vm.imgsrc},on:{\"click\":_vm.getready}})])]),_vm._v(\" \"),_c('div',{staticClass:\"sw_item\"},[_c('span',{staticClass:\"item_left\"},[_vm._v(\"姓名\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.name),expression:\"name\",modifiers:{\"trim\":true}}],staticClass:\"item_right setup_name\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.name=$event.target.value.trim()},\"blur\":function($event){_vm.$forceUpdate()}}})]),_vm._v(\" \"),_c('div',{staticClass:\"setup_save\",on:{\"click\":_vm.update}},[_vm._v(\"保存\")]),_vm._v(\" \"),_c('toast',{attrs:{\"type\":\"text\",\"width\":\"20em\"},model:{value:(_vm.showtoast),callback:function ($$v) {_vm.showtoast=$$v},expression:\"showtoast\"}},[_vm._v(_vm._s(_vm.toastmes))])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-6163b94a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vux-loader@1.2.9@vux-loader/src/before-template-compiler-loader.js!./node_modules/_vux-loader@1.2.9@vux-loader/src/template-loader.js!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/ucenter/setup.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6163b94a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/style-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./setup.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./setup.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./setup.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6163b94a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/before-template-compiler-loader.js!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/template-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./setup.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6163b94a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/ucenter/setup.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}